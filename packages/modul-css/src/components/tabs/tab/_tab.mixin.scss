@mixin m-tab-variables() {
    --m-tab-p: var(--m-space-md) var(--m-space-lg);
    --m-tab-bg: var(--m-color-grey-lighter);
    --m-tab-text-color: var(--m-color-text);
    --m-tab-bg-hover: var(--m-color-grey-light);
    --m-tab-bg-selected: var(--m-color-white);
    --m-tab-selected-border-color: var(--m-color-active);
    --m-tab-selected-border-width: var(--m-border-width-lg);
    --m-tab-border-color: var(--m-color-border);
    --m-tab-space-between: 2px;
    --m-tab-arrow-width: 22px;
}

@mixin m-tab() {
    transition-property: background-color, color, font-weight, font-size;
    transition-duration: $m-transition-duration;
    transition-timing-function: ease;
    position: relative;
    z-index: 0;
    appearance: none;
    border: none;
    background: var(--m-tab-bg);
    padding: var(--m-tab-p);
    font-family: inherit;
    font-size: inherit;
    text-align: center;
    text-decoration: none;
    color: var(--m-tab-text-color);
}

@mixin m-tab-selected() {
    background: var(--m-tab-bg-selected);
    z-index: 1;

    &:first-child {
        border-left: var(--m-border-width-sm) solid var(--m-tab-border-color);
    }

    &:last-child {
        border-right: var(--m-border-width-sm) solid var(--m-tab-border-color);
    }
}

@mixin m-tab-selected-border() {
    transition: opacity $m-transition-duration ease;
    position: absolute;
    top: 0;
    right: calc(var(--m-border-width-sm) * -1);
    left: calc(var(--m-border-width-sm) * -1);
    content: '';
    height: var(--m-tab-selected-border-width);
    background: var(--m-tab-selected-border-color);
}

@mixin m-tab-hover() {
    &:hover,
    &:focus {
        background: var(--m-tab-bg-hover);
    }
}

@mixin m-tab-disabled() {
    --m-tab-text-color: var(--m-color-disabled);
    --m-tab-selected-border-color: var(--m-color-disabled);
}

@mixin m-tab-arrow-underline-variables() {
    --m-tab-p: 0 0 calc(var(--m-space) + var(--m-tab-selected-border-width)) 0;
    --m-tab-bg-selected: var(--m-tab-bg);
    --m-tab-text-color: var(--m-color-grey-dark);
    --m-tab-border-color: rgba(255, 255, 255, 0);
}

@mixin m-tab-arrow-underline-selected() {
    --m-tab-text-color: var(--m-color-text);

    &:first-child,
    &:last-child {
        border-left: none;
        border-right: none;
    }
}

@mixin m-tab-arrow-underline-hover() {
    &:hover,
    &:focus {
        --m-tab-text-color: var(--m-color-text);
    }
}
        
@mixin m-tab-arrow-variables() {
    --m-tab-p: 0 var(--m-space) calc(var(--m-space) + var(--m-tab-selected-border-width)) var(--m-space);
    --m-tab-bg: var(--m-color-white);
    --m-tab-bg-hover: var(--m-color-white);
    --m-tab-space-between: 0;
    --m-tab-selected-border-width: var(--m-border-width);
}

@mixin m-tab-arrow() {
    margin-bottom: calc(var(--m-tab-arrow-width) / 2);
    border-bottom: var(--m-tab-selected-border-width) solid var(--m-tab-border-color);

    &::before {
        transition: opacity $m-transition-duration ease;
        @include m-triangle(bottom, var(--m-tab-border-color), var(--m-tab-arrow-width));
        position: absolute;
        left: 50%;
        bottom: 0;
        transform: translate(-50%, 100%);
        content: '';
    }

    &::after {
        transition: opacity $m-transition-duration ease, transform $m-transition-duration ease;
        @include m-triangle(bottom, var(--m-tab-bg), var(--m-tab-arrow-width));
        top: auto;
        left: 50%;
        bottom: 0;
        transform: translate(-50%, calc(100% - var(--m-tab-selected-border-width)));
        background: none;
    }
}

@mixin m-tab-underline-variables() {
    --m-tab-p: 0 0 calc(var(--m-space) + var(--m-tab-selected-border-width)) 0;
    --m-tab-bg: rgba(255, 255, 255, 0);
    --m-tab-bg-hover: rgba(255, 255, 255, 0);
    --m-tab-space-between: var(--m-space-lg);
}

@mixin m-tab-underline-selected() {
    &::after {
        top: auto;
        bottom: 0;
    }
}
        