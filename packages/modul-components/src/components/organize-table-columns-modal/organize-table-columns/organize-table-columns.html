<div class="organize-table-columns">
    <div class="organize-table-columns__title">
        <h4>{{'m-organize-table-columns:title' | f-m-i18n}}</h4>
        <span>{{'m-organize-table-columns:helper-1' | f-m-i18n}} ({{ numberDisplayedColumns }}) </span>
    </div>

    <ul class="organize-table-columns__visible-columns__list"
        v-m-sortable="true"
        :items="displayedColumns"
        @sortable:move="moveColumn">

        <m-list-item v-for="(column, index) in displayedColumns"
                     :key="column.propName"
                     :disabled="column.fixed"
                     :can-drag="isDraggable(column)"
                     :can-drop="isDroppable(column)">
            <div class="organize-table-columns__item">
                <div class="organize-table-columns__item-title">
                    <m-icon v-if="column.fixed"
                            name="lock"></m-icon>
                    <m-icon v-else
                            name="m-svg__drag-vertical"></m-icon>
                    <span class="organize-table-columns__item-title-text">
                        {{column.title}}
                    </span>
                </div>
                <div class="organize-table-columns__item-button">
                    <m-icon-button @click="removeColumn(column)"
                                   button-size="20"
                                   v-if="!column.fixed"
                                   icon-name="delete"></m-icon-button>
                </div>
            </div>
        </m-list-item>
    </ul>

    <div v-if="numberHiddenColumns > 0"
         class="organize-table-columns__title">
        <span>{{'m-organize-table-columns:helper-2' | f-m-i18n}}</span>
    </div>

    <ul class="organize-table-columns__hidden-columns">
        <m-list-item v-for="(column, index) in hiddenColumns"
                     :key="index">
            <div class="organize-table-columns__item">
                <div class="organize-table-columns__item-title">
                    <span class="organize-table-columns__item-title-text">
                        {{column.title}}
                    </span>
                </div>
                <div class="organize-table-columns__item-button">
                    <m-icon-button @click="addColumn(column)"
                                   button-size="20"
                                   skin="primary"
                                   icon-name="add-circle"></m-icon-button>
                </div>
            </div>
        </m-list-item>
    </ul>
</div>
