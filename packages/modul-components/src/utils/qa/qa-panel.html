<div :class="activeClass">
    <div v-if="expanded">
        <div style="display: flex; justify-content:flex-end">
            <m-icon-button :icon-name="positionRight ? 'm-svg__arrow--left' : 'm-svg__arrow--right'"
                           skin="link"
                           @click="changeDock"></m-icon-button>

            <m-icon-button icon-name="m-svg__hide"
                           skin="link"
                           @click="toggle">
            </m-icon-button>
        </div>
        <m-qa-login v-if="!user"></m-qa-login>
        <div v-else>
            <div v-if="!selectedElement">
                <m-qa-elements :elements="elements"
                               @element-selected="updateSelectedElement({element: $event})"></m-qa-elements>
            </div>
            <div v-else>
                <m-icon-button icon-name="m-svg__chevron-circle--left"
                               skin="link"
                               @click="onBackClick"></m-icon-button>
                <m-qa-element-details v-if="!editedElement && !editedElementLog"
                                      :element="selectedElement"
                                      @element-edited="updateEditedElement({element: $event})"
                                      @element-log-edited="updateEditedElementLog({elementLog: $event})"></m-qa-element-details>

                <m-qa-element-form v-if="editedElement"
                                   :element="editedElement"
                                   @back="onBackClick"></m-qa-element-form>

                <m-qa-element-log-form v-if="editedElementLog"
                                       :element-id="selectedElement.id"
                                       :element-log="editedElementLog"
                                       @back="onBackClick"></m-qa-element-log-form>
            </div>
        </div>
    </div>
    <div v-else
         style="
                                   position:
                                   absolute;
                                   top:
                                   10px;
                                   right:
                                   10px;">
        <m-icon-button icon-name="m-svg__show"
                       skin="link"
                       @click="toggle"></m-icon-button>
    </div>
</div>
